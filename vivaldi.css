:root {
  --vivaldi-bookmark-bar-height: 30px;
  --vivaldi-header-height: 34px;
  --bookmark-bar-hide-delay: 2s; /* Define the delay duration here */
  --bookmark-bar-animation-duration: 0.2s; /* Define the animation duration */
}

.bookmark-bar {
  position: absolute !important;
  top: var(--vivaldi-header-height) !important; /* Positioned below the header area */
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  z-index: 200 !important;
  background-color: var(--colorBg, #fff);
  box-shadow: 0 2px 5px rgba(0,0,0,0.15);
  max-height: var(--vivaldi-bookmark-bar-height);
  overflow: hidden;
  opacity: 0; /* Initially hidden */
  visibility: hidden; /* Initially hidden */
  transform: translateY(-100%); /* Initially moved up out of view */
  /*
    Transition for hiding:
    - opacity and transform will start their animation after --bookmark-bar-hide-delay.
    - The animation itself will take --bookmark-bar-animation-duration.
    - visibility will change after the delay AND the animation are complete.
  */
  transition:
    opacity var(--bookmark-bar-animation-duration) ease-in-out var(--bookmark-bar-hide-delay),
    transform var(--bookmark-bar-animation-duration) ease-in-out var(--bookmark-bar-hide-delay),
    visibility 0s linear calc(var(--bookmark-bar-hide-delay) + var(--bookmark-bar-animation-duration)) !important;
}

/* Show the bookmark bar on hover */
#browser #header:hover ~ #main .bookmark-bar,
#browser #header:hover + .bookmark-bar,
#browser .tab-strip:hover ~ #main .bookmark-bar,
#browser .tab-strip:hover ~ .bookmark-bar,
.bookmark-bar:hover {
  opacity: 1;
  visibility: visible;
  transform: translateY(0); /* Move into view */
  /*
    Transition for showing:
    - opacity and transform animate over --bookmark-bar-animation-duration.
    - visibility changes immediately.
    - No delay when showing the bar.
  */
  transition:
    opacity var(--bookmark-bar-animation-duration) ease-in-out,
    transform var(--bookmark-bar-animation-duration) ease-in-out,
    visibility 0s linear 0s !important;
}
